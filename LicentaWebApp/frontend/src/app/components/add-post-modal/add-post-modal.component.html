<app-modal [isOpen]="isModalOpen"
           [title]="''"
           (closeModalEmitter)="closeModalEmitter.emit()">
           
  <form class="d-flex flex-column" [formGroup]="postForm">

    <div class="form-group">
      <label class="form-label mt-4">Description</label>
      <input type="text" class="form-control" formControlName="description"  placeholder="a description">
    </div>

    <div class="form-group">
      <label class="form-label mt-4">Image url</label>
      <input type="text" class="form-control" formControlName="url"  placeholder="www.your-image.com" #image>
      <div *ngIf="postForm.controls['url'].errors?.['requierd']" class="invalid-feedback">A url is required</div>
    </div>

    <div  *ngIf="postForm.controls['url'].getRawValue().length !=0 ">
      <img [src]="postForm.controls['url'].getRawValue()" class="d-block user-select-none" width="100%" height="200" 
      aria-label="Placeholder: Image " focusable="false" [alt]="postForm.controls['url'].getRawValue()"/>
    </div>

    <button type="submit" class="btn btn-primary" [disabled]="postForm.invalid || isLoading" (click)="savePost()"> <span class="loader" *ngIf="isLoading"></span>Add Post</button>

  </form>
</app-modal>
